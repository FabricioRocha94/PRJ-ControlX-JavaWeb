<!doctype html>
<html lang="pt-br" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
	integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
	crossorigin="anonymous">

<link
	href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css"
	rel="stylesheet" id="bootstrap-css">


<!--  jQuery -->
<script type="text/javascript"
	src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

<!-- Isolated Version of Bootstrap, not needed if your site already uses Bootstrap -->
<link rel="stylesheet"
	href="https://formden.com/static/cdn/bootstrap-iso.css" />

<!-- Bootstrap Date-Picker Plugin -->
<script type="text/javascript"
	src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js"></script>
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css" />

<script
	src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.15/jquery.mask.min.js"></script>


<link rel="stylesheet" type="text/css" media="screen"
	href="/controlx-1.0/resources/css/principal.css?version=12" />
<link rel="stylesheet" type="text/css" media="screen"
	href="/controlx-1.0/resources/css/form.css?version=12" />
<!------ Include the above in your HEAD tag ---------->

<title>ControlX - Gerenciar Usuario</title>
</head>

<body id="container">
	<div id="wrapper" class="">
		<!-- Sidebar -->
		<div id="sidebar-wrapper">
			<ul id="sidebar_menu" class="sidebar-nav">
				<li class="sidebar-brand"><a id="menu-toggle" href="#">ControlX<span
						id="main_icon" class="glyphicon glyphicon-align-justify"></span></a></li>
			</ul>
			<div id="menu"></div>
		</div>

		<!-- Page content -->
		<div id="page-content-wrapper">
			<!-- Keep all page content within the page-content inset div! -->
			<div class="page-content inset">
				<div class="row">
					<div class="col-md-12 text-center">
						<p class="well lead">Gerenciar Usuario</p>
						<div class="alert alert-danger" role="alert" th:each="m : ${msg}">
							<span th:text="${m}"></span>
						</div>
						<div class="row">
							<div class="container p-5 bg-white">
								<form method="post" action="usuarios/salvar"
									th:object="${usuarioObj}">
									<div class="row">
										<div class="col-12">
											<h3 class="mb-5">Dados do usuário</h3>
										</div>
									</div>
									<label>Imagem</label>
									<div class="form-row">
										<div class="form-group col-md-12">
											<img th:src="*{imagemUrl}" width="200" height="200"
												style="border-style: solid; border-width: 2px;">
										</div>
									</div>
									<div class="form-row">
										<div class="form-group col-md-2">
											<label for="id">ID</label> <input readonly="readonly"
												type="number" class="form-control" name="id" id="id"
												placeholder="ID" th:field="*{id}">
										</div>
										<div class="form-group col-md-10">
											<label for="nome">Nome:</label> <input type="text"
												class="form-control" name="nome" id="nome"
												placeholder="Nome do usuario" th:field="*{nome}" required>
										</div>
									</div>
									<div class="form-row">
										<div class="form-group col-md-3" id=".dateNasc">
											<label for="dataNasc">Data de nascimento:</label> <input
												type="date" class="form-control" id="dataNasc"
												name="dataNasc" placeholder="Data de nascimento"
												th:field="*{dataNasc}" autocomplete="off" required>
										</div>
										<div class="form-group col-md-3">
											<label for="cpf">CPF:</label> <input type="text"
												class="form-control" name="cpf" id="cpf" placeholder="CPF"
												th:field="*{cpf}" required>
										</div>
										<div class="form-group col-md-3">
											<label for="sexo">Sexo:</label> <select name="sexo" id="sexo"
												class="form-control" required>
												<option th:value="0" disabled selected>Escolha...</option>
												<option th:value="false" th:selected="*{sexo} == false">Masculino
												</option>
												<option th:value="true" th:selected="*{sexo} == true">Feminino</option>
											</select>
										</div>
										<div class="form-group col-md-3">
											<label for="fone">Telefone:</label> <input type="text"
												class="form-control" name="telefone" id="phone-number"
												placeholder="Telefone" th:field="*{telefone}" required>
										</div>
									</div>
									<div class="form-row">
										<div class="form-group col-md-12">
											<label for="img">Url da Imagem:</label> <input type="text"
												class="form-control" name="imagemUrl" id="imagemUrl"
												placeholder="Url da imagem" th:field="*{imagemUrl}" required>
										</div>
									</div>
									<hr>
									<div class="row">
										<div class="col-12">
											<h3 class="mb-5">Endereço</h3>
										</div>
									</div>
									<div class="form-row text-center">
										<div class="form-group col-md-2">
											<label for="cep">Cep:</label> <input type="text"
												class="form-control" name="cep" id="cep" placeholder="Cep"
												th:field="*{cep}" required>
										</div>
										<div class="form-group col-md-4">
											<label for="rua">Rua:</label> <input type="text"
												class="form-control" name="rua" id="rua" placeholder="Rua"
												th:field="*{rua}" required>
										</div>
										<div class="form-group col-md-2">
											<label for="numero">Numero:</label> <input type="text"
												class="form-control" name="num" id="num"
												placeholder="Numero" th:field="*{num}" required>
										</div>
										<div class="form-group col-md-4">
											<label for="bairro">Bairro:</label> <input type="text"
												class="form-control" name="bairro" id="bairro"
												placeholder="Bairro" th:field="*{bairro}" required>
										</div>
									</div>
									<div class="form-row text-center">
										<div class="form-group col-md-4">
											<label for="comp">Complemento:</label> <input type="text"
												class="form-control" name="comp" id="comp"
												placeholder="Complemento" th:field="*{comp}" required>
										</div>
										<div class="form-group col-md-4">
											<label for="cidade">Cidade:</label> <input type="text"
												class="form-control" name="cidade" id="cidade"
												placeholder="Cidade" th:field="*{cidade}" required>
										</div>
										<div class="form-group col-md-4">
											<label for="estado">Estado:</label> <select name="estado"
												id="estado" class="form-control" required>
												<option th:value="0" disabled selected>Escolha...</option>
												<option th:value="AC" th:selected="*{estado} == 'AC'">Acre</option>
												<option th:value="AL" th:selected="*{estado} == 'AL'">Alagoas</option>
												<option th:value="AP" th:selected="*{estado} == 'AP'">Amapá</option>
												<option th:value="AM" th:selected="*{estado} == 'AM'">Amazonas</option>
												<option th:value="BA" th:selected="*{estado} == 'BA'">Bahia</option>
												<option th:value="CE" th:selected="*{estado} == 'CE'">Ceará</option>
												<option th:value="DF" th:selected="*{estado} == 'DF'">Distrito
													Federal</option>
												<option th:value="ES" th:selected="*{estado} == 'ES'">Espírito
													Santo</option>
												<option th:value="GO" th:selected="*{estado} == 'GO'">Goiás</option>
												<option th:value="MA" th:selected="*{estado} == 'MA'">Maranhão</option>
												<option th:value="MT" th:selected="*{estado} == 'MT'">Mato
													Grosso</option>
												<option th:value="MS" th:selected="*{estado} == 'MS'">Mato
													Grosso do Sul</option>
												<option th:value="MG" th:selected="*{estado} == 'MG'">Minas
													Gerais</option>
												<option th:value="PA" th:selected="*{estado} == 'PA'">Pará</option>
												<option th:value="PB" th:selected="*{estado} == 'PB'">Paraíba</option>
												<option th:value="PR" th:selected="*{estado} == 'PR'">Paraná</option>
												<option th:value="PE" th:selected="*{estado} == 'PE'">Pernambuco
												</option>
												<option th:value="PI" th:selected="*{estado} == 'PI'">Piauí</option>
												<option th:value="RJ" th:selected="*{estado} == 'RJ'">Rio
													de Janeiro</option>
												<option th:value="RN" th:selected="*{estado} == 'RN'">Rio
													Grande do Norte</option>
												<option th:value="RS" th:selected="*{estado} == 'RS'">Rio
													Grande do Sul</option>
												<option th:value="RO" th:selected="*{estado} == 'RO'">Rondônia</option>
												<option th:value="RR" th:selected="*{estado} == 'RR'">Roraima</option>
												<option th:value="SC" th:selected="*{estado} == 'SC'">Santa
													Catarina</option>
												<option th:value="SP" th:selected="*{estado} == 'SP'">São
													Paulo</option>
												<option th:value="SE" th:selected="*{estado} == 'SE'">Sergipe</option>
												<option th:value="TO" th:selected="*{estado} == 'TO'">Tocantins</option>
											</select>
										</div>
									</div>
									<hr>
									<div class="row">
										<div class="col-md-12">
											<h3 class="mb-5">Dados de acesso</h3>
										</div>
									</div>
									<div class="form-row text-center">
										<div class="form-group col-md-4">
											<label for="login">Usuario:</label> <input type="text"
												class="form-control" name="login" id="login"
												placeholder="Usuário" th:field="*{login}" required>
										</div>
										<div class="form-group col-md-4">
											<label for="senha">Senha:</label> <input type="password"
												class="form-control" name="senha" id="senha"
												placeholder="Senha" th:field="*{senha}" required>
										</div>
										<div class="form-group col-md-4">
											<label for="role">Cargo:</label> <select name="role"
												class="form-control" required>
												<option th:value="0" disabled selected>Escolha...</option>
												<option th:value="0" th:selected="*{role.id} == 0">Vendedor</option>
												<option th:value="1" th:selected="*{role.id} == 1">Almoxarife</option>
												<option sec:authorize="hasAnyRole('ROLE_ADMIN')"
													th:value="2" th:selected="*{role.id} == 2">Gerente</option>
												<option sec:authorize="hasAnyRole('ROLE_ADMIN')"
													th:value="3" th:selected="*{role.id} == 3">Administrador</option>
											</select>
										</div>
									</div>
									<br> <a href="/controlx-1.0/usuarios"><button
											type="button" class="btn btn-danger">Voltar</button></a>
									<button sec:authorize="hasAnyRole('ROLE_ADMIN')" type="submit"
										class="btn btn-danger">Salvar</button>

									<button sec:authorize="hasAnyRole('ROLE_ADMIN')"
										th:if="${edit}" th:onclick="return remover();" type="button"
										class="btn btn-secondary">Remover</button>

								</form>

							</div>
						</div>
						<!-- fim div da esquerda -->
					</div>
				</div>
			</div>
		</div>
	</div>

	<script type="text/javascript">
		$("#menu").load("/controlx-1.0/menu");

		$("#menu-toggle").click(function(e) {
			e.preventDefault();
			$("#wrapper").toggleClass("active");
		});
	</script>
	<!-- Optional JavaScript -->

	<!-- Include Date Range Picker -->
	<script type="text/javascript">
		$(document).ready(function() {
			//$('#dataNasc').mask('00-00-0000');
			$('#phone-number').mask('(00)00000-0000');
			$('#cpf').mask('000.000.000-00');
			$('#cep').mask('00000-000');
		});
	</script>

	<!-- Include Date Range Picker -->
	<script type="text/javascript">
		$('#dateNasc input').datepicker({
			format : "dd-mm-yyyy",
			clearBtn : true,
			language : "pt-BR",
		});
	</script>

	<!-- Javascript com Thymeleaf -->
	<script th:inline="javascript">
		/*<![CDATA[*/

		function remover() {
			if (confirm("Tem certeza que deseja remover?")) {
				/*[+ var url =  [[@{/usuarios/remover/{idusuario}(idusuario=${id})}]];
				+]*/
				location.href = url;
				alert("Removido com sucesso!");
			}
		}
		/*]]>*/
	</script>

	<!-- jQuery first, then Popper.js, then Bootstrap JS -->
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
		integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
		crossorigin="anonymous"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
		integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
		crossorigin="anonymous"></script>
	<script
		src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
		integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
		crossorigin="anonymous"></script>
	<script
		src="//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.15/jquery.mask.min.js"></script>
</body>

</html>